openapi: 3.0.0
info:
  title: {{FEATURE_NAME}} API
  version: 1.0.0
  description: {{API_DESCRIPTION}}
  contact:
    name: API Support
    email: support@example.com

servers:
  - url: http://localhost:3000
    description: Development server
  - url: https://staging-api.example.com
    description: Staging server
  - url: https://api.example.com
    description: Production server

security:
  - BearerAuth: []

tags:
  - name: {{RESOURCE_NAME}}
    description: Operations related to {{RESOURCE_NAME}}

paths:
  /api/{{RESOURCE}}:
    {{HTTP_METHOD}}:
      tags:
        - {{RESOURCE_NAME}}
      summary: {{SUMMARY}}
      description: {{DESCRIPTION}}
      operationId: {{OPERATION_ID}}
      security:
        - {{AUTH_SCHEME}}: []
      requestBody:
        required: {{IS_REQUIRED}}
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/{{REQUEST_SCHEMA}}'
            example:
              {{FIELD_1}}: {{EXAMPLE_VALUE_1}}
              {{FIELD_2}}: {{EXAMPLE_VALUE_2}}
      responses:
        '{{SUCCESS_CODE}}':
          description: {{SUCCESS_DESCRIPTION}}
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/{{RESPONSE_SCHEMA}}'
              example:
                {{RESPONSE_FIELD_1}}: {{RESPONSE_VALUE_1}}
                {{RESPONSE_FIELD_2}}: {{RESPONSE_VALUE_2}}
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

    get:
      tags:
        - {{RESOURCE_NAME}}
      summary: List all {{RESOURCE}}
      description: Retrieve a paginated list of {{RESOURCE}}
      operationId: list{{RESOURCE_NAME}}
      parameters:
        - name: page
          in: query
          description: Page number
          required: false
          schema:
            type: integer
            default: 1
            minimum: 1
        - name: limit
          in: query
          description: Items per page
          required: false
          schema:
            type: integer
            default: 20
            minimum: 1
            maximum: 100
        - name: sort
          in: query
          description: Sort field
          required: false
          schema:
            type: string
            enum: [createdAt, updatedAt, name]
        - name: order
          in: query
          description: Sort order
          required: false
          schema:
            type: string
            enum: [asc, desc]
            default: desc
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/{{RESOURCE_ITEM}}'
                  pagination:
                    $ref: '#/components/schemas/Pagination'

  /api/{{RESOURCE}}/{id}:
    get:
      tags:
        - {{RESOURCE_NAME}}
      summary: Get a single {{RESOURCE}}
      description: Retrieve a single {{RESOURCE}} by ID
      operationId: get{{RESOURCE_ITEM}}
      parameters:
        - name: id
          in: path
          description: {{RESOURCE}} ID
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/{{RESOURCE_ITEM}}'
        '404':
          $ref: '#/components/responses/NotFound'

    put:
      tags:
        - {{RESOURCE_NAME}}
      summary: Update a {{RESOURCE}}
      description: Update an existing {{RESOURCE}}
      operationId: update{{RESOURCE_ITEM}}
      parameters:
        - name: id
          in: path
          description: {{RESOURCE}} ID
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/{{RESOURCE_UPDATE}}'
      responses:
        '200':
          description: Successful update
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/{{RESOURCE_ITEM}}'
        '404':
          $ref: '#/components/responses/NotFound'

    delete:
      tags:
        - {{RESOURCE_NAME}}
      summary: Delete a {{RESOURCE}}
      description: Delete a {{RESOURCE}}
      operationId: delete{{RESOURCE_ITEM}}
      parameters:
        - name: id
          in: path
          description: {{RESOURCE}} ID
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '204':
          description: Successful deletion
        '404':
          $ref: '#/components/responses/NotFound'

components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: JWT authentication token

    ApiKeyAuth:
      type: apiKey
      in: header
      name: X-API-Key
      description: API key authentication

  schemas:
    {{REQUEST_SCHEMA}}:
      type: object
      required:
        - {{REQUIRED_FIELD_1}}
        - {{REQUIRED_FIELD_2}}
      properties:
        {{FIELD_1}}:
          type: {{FIELD_TYPE}}
          description: {{FIELD_DESCRIPTION}}
          format: {{FIELD_FORMAT}}
        {{FIELD_2}}:
          type: {{FIELD_TYPE}}
          description: {{FIELD_DESCRIPTION}}
          enum: [{{ENUM_VALUES}}]

    {{RESPONSE_SCHEMA}}:
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: Unique identifier
        {{RESPONSE_FIELD_1}}:
          type: {{FIELD_TYPE}}
          description: {{FIELD_DESCRIPTION}}
        {{RESPONSE_FIELD_2}}:
          type: {{FIELD_TYPE}}
          description: {{FIELD_DESCRIPTION}}
        createdAt:
          type: string
          format: date-time
          description: Creation timestamp
        updatedAt:
          type: string
          format: date-time
          description: Last update timestamp

    {{RESOURCE_ITEM}}:
      type: object
      properties:
        id:
          type: string
          format: uuid
        {{RESOURCE_FIELDS}}

    {{RESOURCE_UPDATE}}:
      type: object
      properties:
        {{UPDATE_FIELDS}}

    Pagination:
      type: object
      properties:
        page:
          type: integer
          description: Current page number
          example: 1
        limit:
          type: integer
          description: Items per page
          example: 20
        total:
          type: integer
          description: Total number of items
          example: 150
        totalPages:
          type: integer
          description: Total number of pages
          example: 8

    Error:
      type: object
      required:
        - error
        - message
      properties:
        error:
          type: string
          description: Error code
          example: VALIDATION_ERROR
        message:
          type: string
          description: Human-readable error message
          example: The request data is invalid
        details:
          type: object
          description: Additional error details
          properties:
            field:
              type: string
              description: Field name that caused the error
            reason:
              type: string
              description: Specific reason for the error

    ValidationError:
      allOf:
        - $ref: '#/components/schemas/Error'
        - type: object
          properties:
            errors:
              type: array
              items:
                type: object
                properties:
                  field:
                    type: string
                  message:
                    type: string

  responses:
    BadRequest:
      description: Bad Request - Invalid input data
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ValidationError'

    Unauthorized:
      description: Unauthorized - Authentication required
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            error: UNAUTHORIZED
            message: Authentication is required

    Forbidden:
      description: Forbidden - Insufficient permissions
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            error: FORBIDDEN
            message: You don't have permission to perform this action

    NotFound:
      description: Not Found - Resource not found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            error: NOT_FOUND
            message: The requested resource was not found

    InternalServerError:
      description: Internal Server Error
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            error: INTERNAL_ERROR
            message: An unexpected error occurred

examples:
  {{EXAMPLE_NAME}}:
    value:
      {{EXAMPLE_FIELDS}}
